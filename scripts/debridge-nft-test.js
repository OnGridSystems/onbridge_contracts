const { ethers } = require("ethers");

async function main() {
  const DeBridgeGateAbi = require("./abis/DeDridgeGate.json");
  const L2Bridge = require("./abis/L2Bridge.json");
  const L2Token = require("./abis/L2Token.json");

  mnemonic = `${process.env.MNEMONIC}`;
  walletMnemonic = ethers.Wallet.fromMnemonic(mnemonic);

  // const kovanProvider = new ethers.providers.JsonRpcProvider(
  //   `${process.env.KOVAN_PROVIDER}`
  // );

  const bscTestnetProvider = new ethers.providers.JsonRpcProvider(
    `${process.env.BSC_TESTNET_PROVIDER}`
  );

  // kovanWallet = walletMnemonic.connect(kovanProvider);
  bscTestnetWallet = walletMnemonic.connect(bscTestnetProvider);

  gate = new ethers.Contract(
    "0x68D936Cb4723BdD38C488FD50514803f96789d2D",
    DeBridgeGateAbi["abi"],
    bscTestnetProvider
  );

  l2Bridge = new ethers.Contract(
    "0x4ec28d7b5A0daE81A4ac4aE017BfE17786aE7aB2",
    L2Bridge["abi"],
    bscTestnetProvider
  );
  l2TokenAddress = await l2Bridge.l2Token();

  l2Token = new ethers.Contract(
    l2TokenAddress,
    L2Token["abi"],
    bscTestnetProvider
  );

  const data =
  "0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000022eb87ddfd552b8e7cb774a6e039c6aa4b699e3a00000000000000000000000000000000000000000000000000000000000000140b73c9260e4456b5b0295401ebf5274fbb4c560400000000000000000000000000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000006a94d74f4300000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000140b73c9260e4456b5b0295401ebf5274fbb4c56040000000000000000000000000000000000000000000000000000000000000000000000000000000000000084d72ce90e000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb9226600000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

}

main();
